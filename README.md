# php83-sandbox

Шаблон для начальной настройки / разработки проектов на PHP 8.3 внутри Docker-контейнера.

## Список контейнеров:

- Контейнер для разработки бэкенда: PHP 8.3 + Composer, Git, Curl и т. д.
- Контейнер с БД PostgreSQL 15.
- Контейнер с веб-сервером Caddy.

## Как использовать

**1**. Склонируйте репозиторий и перейдите в папку проекта.

```bash
git clone git@github.com:kublahanov/php83-sandbox.git
cd php83-sandbox
```

В папке .local есть несколько полезных скриптов для управления проектом.
- start_local.sh - скрипт для сборки и запуска контейнеров.
- stop_local.sh - скрипт для остановки и удаления контейнеров.
- stop_local_minus_v.sh - скрипт для остановки и удаления контейнеров и томов.
- remove_images.sh - скрипт для удаления всех созданных в проекте Docker-образов.
- remove_volumes.sh - скрипт для удаления всех созданных в проекте Docker-томов.
- chown.sh - скрипт для изменения владельца и группы всех файлов в проекте на текущего пользователя и группу.

**2**. Запустите контейнеры c помощью скрипта "start_local.sh".

Перед запуском контейнеров, в папке .local нужно установить необходимые права на исполняемые скрипты:

```bash
sudo chown -R $USER:$USER ./.local
chmod +x ./.local/*.sh
```

Если обе команды выполнились успешно - можно запустить контейнеры следующей командой:

```bash
./.local/start_local.sh
```

**3**. В случае успешного запуска контейнеров, вы можете проверить их статус.

Например, работоспособность PHP:

```bash
 docker exec php83_sandbox_app php -v 
```

**4**. Далее вы можете приступить к первичной настройке вашего PHP-приложения.
 
- Ваш проект должен находиться в папке `src`.
- Веб-сервер Caddy будет обслуживать ваш проект по адресу `http://localhost`.
- Внимание! После настройки проекта (и подбора необходимой для него конфигурации docker-compose.yml) - перенесите его в отдельный Git-репозиторий. Содержимое, и все изменения в папке **src** в текущем Git-репозитории не фиксируются, т. к. в соответствии с назначением проекта - это только песочница для первичной настройки.
